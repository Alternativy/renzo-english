
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renzo Markow</title>
    <link rel="stylesheet" href="styles/general.css">
    <link rel="stylesheet" href="styles/encabezado.css">
    <link rel="stylesheet" href="styles/navegacion.css">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>

    <header id="encabezado-principal">
        <h1>Renzo Marikown</h1>
    </header>
    
    <nav id="navegacion-principal">
        <ul>
            <li class="opcion-seleccionada">
                <a href="#" id="link-trabajos" data-activar-vista="trabajos">Trabajos</a>
            </li>
            <li>
                <a href="#" id="link-reels" data-activar-vista="reels">Reels</a>
            </li>
        </ul>
    </nav>

    <main>
        <section data-vista="trabajos" data-vista-estado="activa">

            <article>
                <header>
                    <h2>Magic dwarf drops some basses</h2>
                </header>
                <div class="contenido-articulo contenedor-video-youtube">
                    <iframe class="iframe-responsivo-16-9" width="1280" height="720" src="https://www.youtube.com/embed/Fok4WWOfAiE" title="Pure Vinyl Set 16 (Deep Techno, Dub Techno)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
            </article>

            <article>
                <header>
                    <h2>Renzo tries to be a videoclip extra, fails and then proceeds to contemplate suicide as a viable life choice</h2>
                </header>
                <div class="contenido-articulo contenedor-video-youtube">
                    <iframe class="iframe-responsivo-16-9" width="1280" height="720" src="https://www.youtube.com/embed/aMREvgNzsHw" title="LOLA - Bufoso (video oficial)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
            </article>

            <article>
                <header>
                    <h2>Cyclist determines that a road sign must be eliminated, fails and then proceeds to contemplate joining Bufoso band as a viable life choice</h2>
                </header>
                <div class="contenido-articulo contenedor-video-youtube">
                    <iframe class="iframe-responsivo-16-9"  width="1106" height="737" src="https://www.youtube.com/embed/qC5XzxMLX-U" title="dumbass cyclist-hits-road-sign" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
            </article>

        </section>

        <section data-vista="reels" data-vista-estado="inactiva">
            <article>
                <header>
                    <h2>Renzo decides to make a move and prove that tires are not dangerous, fails and the proceeds to study some gay career</h2>
                </header>
                <div class="contenido-articulo contenedor-video-youtube">
                    <iframe class="iframe-responsivo-16-9" width="983" height="737" src="https://www.youtube.com/embed/Fr-CNfi04IY" title="Guy Gets Blown In The Air By An Air Bag In A Tyre" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
            </article>


        </section>
    </main>


    <script>


    class Aplicacion
    {

        constructor()
        {
            /* Carga de vistas */
            this.menuPrincipal = document.querySelector('#navegacion-principal');
            this.vistaActiva = document.querySelector('[data-vista-estado="activa"]');
            /* Carga de escuchas de eventos */
            this.cargarEscuchasDeEventos();
        };

        pausarTodosLosVideos()
        {
            const iframes = Array.from(this.vistaActiva.querySelectorAll('.contenedor-video-youtube iframe'));

            for (let iframe of iframes)
            {
                const src = iframe.src;
                iframe.src = src;
            };
        }

        actualizarColoresMenuPrincipal()
        {
            this.menuPrincipal.querySelectorAll('a').forEach(a =>
            {
                a.parentElement.classList.toggle('opcion-seleccionada');
            });
        }

        manejarCambioVista(ev)
        {

            // Obtenemos la vista que se desea activar.
            const nombreVistaASerActivada = ev.target.dataset.activarVista;
            const contenedorVista         = document.querySelector(`[data-vista=${nombreVistaASerActivada}]`);

            this.pausarTodosLosVideos();

            // Desactivamos la vista activa.
            document.querySelector('[data-vista-estado="activa"]').dataset.vistaEstado = 'inactiva';

            // Activamos la vista deseada.
            contenedorVista.dataset.vistaEstado = 'activa';

            this.vistaActiva = contenedorVista;

            this.actualizarColoresMenuPrincipal();
        };

        cargarEscuchasDeEventos()
        {
            document.querySelector('#link-trabajos').addEventListener('click', this.manejarCambioVista.bind(this))
            document.querySelector('#link-reels').addEventListener('click', this.manejarCambioVista.bind(this));
        };

    }

    new Aplicacion();


    </script>


</body>
</html>